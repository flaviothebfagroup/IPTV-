<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <title>IPTV Remote</title>

  <!-- PWA / Icons -->
  <link rel="manifest" href="/IPTV-/manifest.webmanifest" />
  <meta name="theme-color" content="#000000" />
  <link rel="icon" type="image/png" sizes="192x192" href="/IPTV-/icons/icon-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="/IPTV-/icons/icon-512.png" />
  <link rel="apple-touch-icon" href="/IPTV-/icons/apple-touch-icon.png" />

  <style>
    :root{
      --bg:#0b0b0c;--fg:#fff;--muted:#9a9aa0;--panel:#121214;--border:rgba(255,255,255,.14);
      --accent:#ff9500;--tile:#17171a;--tileActive:#1d1d21;--shadow:0 18px 48px rgba(0,0,0,.45)
    }
    body.light{
      --bg:#f5f5f7;--fg:#111;--muted:#6e6e73;--panel:#fff;--border:rgba(0,0,0,.12);
      --accent:#ff9500;--tile:#f2f2f7;--tileActive:#eaeaef;--shadow:0 14px 36px rgba(0,0,0,.10)
    }
    *{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    html,body{height:100%}
    body{
      background:var(--bg);color:var(--fg);
      font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display',system-ui,sans-serif;
      display:flex;align-items:center;justify-content:center;padding:22px;transition:background .25s,color .25s
    }

    /* Login */
    .login{width:100%;max-width:420px;text-align:center}
    .logo{width:110px;height:110px;margin:0 auto 18px;background:var(--accent);
      -webkit-mask:url('https://i.ibb.co/LzJwPhjg/ICON-IPTV.png') center/contain no-repeat;
      mask:url('https://i.ibb.co/LzJwPhjg/ICON-IPTV.png') center/contain no-repeat}
    .card{background:var(--panel);border:1px solid var(--border);border-radius:28px;padding:22px;box-shadow:var(--shadow)}
    .login input{width:100%;padding:14px;margin-bottom:12px;background:transparent;border:1px solid var(--border);border-radius:14px;color:var(--fg);font-size:16px;text-align:center}
    .login input::placeholder{color:var(--muted)}
    .login button{width:100%;padding:14px;background:var(--accent);color:#000;border:none;border-radius:999px;font-size:16px;font-weight:800;cursor:pointer}
    .link{margin-top:12px;font-size:14px;color:var(--muted)}
    .link a{color:var(--fg);text-decoration:none;border-bottom:1px dashed var(--border)}

    /* Remote shell */
    .remote{display:none;width:100%;max-width:clamp(360px,92vw,460px);background:var(--panel);border:1px solid var(--border);border-radius:42px;padding:18px;box-shadow:var(--shadow)}

    /* Header */
    .hdr{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;gap:10px}
    .pill{justify-self:start;height:34px;padding:0 14px;border-radius:9999px;border:1px solid var(--accent);background:transparent;color:var(--accent);font-size:13px;font-weight:700;cursor:pointer}

    /* Centered selectors looking like a single ‚ÄúGW-001 / Genesis Winnipeg‚Äù line */
    .selectors{
      justify-self:center;
      display:flex;align-items:center;gap:8px;
      max-width:80%; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;
    }
    .slash{opacity:.6;user-select:none}

    /* Borderless selects (still clickable) */
    .select{
      height:34px;min-width:110px;max-width:200px;
      padding:0 4px;border:0;background:transparent;outline:none;
      color:var(--fg);font-size:13px;text-align:center;cursor:pointer;
      appearance:none;-webkit-appearance:none;-moz-appearance:none;
    }
    .select:disabled{opacity:.85;cursor:default}
    .select:focus{outline:none;text-shadow:0 0 14px rgba(255,149,0,.55)}
    select.select::-ms-expand{display:none}

    .theme-holder{justify-self:end}
    .theme-switch{position:relative;width:56px;height:30px;border-radius:999px;background:var(--tileActive);border:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 8px;cursor:pointer}
    .theme-switch .sun,.theme-switch .moon{font-size:14px;opacity:.55;transition:opacity .2s}
    .theme-switch .thumb{position:absolute;top:2px;left:2px;width:26px;height:26px;border-radius:50%;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.25);transition:transform .25s}
    body.light .theme-switch .thumb{background:#000}
    .theme-switch.on{border-color:var(--accent);box-shadow:0 6px 18px rgba(255,149,0,.22)}
    .theme-switch.on .thumb{transform:translateX(26px)}
    .theme-switch.on .sun{opacity:1}
    .theme-switch.on .moon{opacity:.3}

    .rule{height:1px;background:var(--border);margin:12px 0 8px}

    /* Dial (with swipe + orange glow) */
    .dial{width:min(78vw,360px);aspect-ratio:1/1;margin:0 auto 10px;position:relative;touch-action:none}
    .dial-ring{position:absolute;inset:0;border-radius:50%;background:var(--tile);border:1px solid var(--border)}

    .dial-center{
      position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
      width:56%;height:56%;border-radius:50%;background:var(--panel);border:1px solid var(--border);
      display:grid;place-items:center;text-align:center;overflow:hidden;transition:box-shadow .18s,border-color .18s
    }
    .dial-center.glow{
      box-shadow:0 0 42px rgba(255,149,0,.65),0 0 160px rgba(255,149,0,.28), inset 0 0 0 1px var(--accent);
      border-color:var(--accent)
    }
    #dialContent{display:grid;place-items:center}
    .dial-num{font-size:clamp(68px,12vw,96px);font-weight:800;color:var(--accent);line-height:1}
    .dial-name{font-size:11px;letter-spacing:.6px;color:var(--muted);text-transform:uppercase;margin-top:-2px}
    .dial-select{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:56%;height:56%;border-radius:50%;background:transparent;border:0;cursor:pointer}

    /* Borderless arrow buttons */
    .nav-btn{
      position:absolute;width:54px;height:54px;border:0;background:transparent;color:var(--fg);
      font-size:20px;cursor:pointer;display:grid;place-items:center;opacity:.82;transition:opacity .12s, text-shadow .12s
    }
    .nav-btn:hover{opacity:1;text-shadow:0 0 16px rgba(255,149,0,.55)}
    .nav-btn:active{text-shadow:0 0 22px rgba(255,149,0,.75)}
    .nav-up{left:50%;top:6%;transform:translate(-50%,0)}
    .nav-down{left:50%;bottom:6%;transform:translate(-50%,0)}
    .nav-left{left:6%;top:50%;transform:translate(0,-50%)}
    .nav-right{right:6%;top:50%;transform:translate(0,-50%)}

    /* Grid */
    .quick-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;padding:14px 6px 6px}
    .quick-btn{height:66px;border:1px solid var(--border);border-radius:16px;background:var(--tile);color:var(--fg);font-weight:800;font-size:22px;display:flex;align-items:center;justify-content:center;flex-direction:column;cursor:pointer;transition:border-color .2s,background .2s,transform .16s,box-shadow .2s}
    .quick-btn:active{transform:translateY(1px)}
    .quick-btn span{margin-top:2px;font-size:10px;color:var(--muted);letter-spacing:1px;text-transform:uppercase}
    .quick-btn.active{border-color:var(--accent);background:var(--tileActive);box-shadow:0 0 0 2px rgba(255,149,0,.35), inset 0 0 0 1px var(--accent)}
    .quick-btn.pulsing{animation:tilePulse .24s ease-out}
    @keyframes tilePulse{0%{transform:scale(1.06)}50%{transform:scale(1.12)}100%{transform:scale(1.06)}}
    .quick-btn.mute.muted{border-color:#ff453a;color:#ff453a}

    /* Volume */
    .volume-bar{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:12px;max-width:340px;margin:6px auto 0}
    .vol-btn{width:54px;height:42px;border:1px solid var(--border);border-radius:12px;background:var(--tile);color:var(--fg);font-size:22px;cursor:pointer}
    .vol-track{position:relative;height:14px;border-radius:999px;background:var(--tile);border:1px solid var(--border);overflow:hidden}
    .vol-fill{position:absolute;left:0;top:0;bottom:0;width:0%;background:linear-gradient(90deg,var(--accent),#ffb866)}

    /* Toast */
    .toast{position:fixed;top:50px;left:50%;transform:translateX(-50%);background:var(--accent);color:#000;padding:10px 20px;border-radius:999px;font-size:13px;font-weight:700;opacity:0;transition:opacity .25s;pointer-events:none}
    .toast.show{opacity:1}
  </style>
</head>
<body>
  <!-- LOGIN -->
  <div class="login" id="login">
    <div class="logo" role="img" aria-label="IPTV logo"></div>
    <div class="card">
      <input type="email" id="email" placeholder="Email" autocomplete="email" />
      <input type="password" id="password" placeholder="Password" autocomplete="current-password" />
      <button id="btnEnter" type="button">ENTER</button>
      <div class="link">Don‚Äôt have an account? <a href="https://flaviothebfagroup.github.io/IPTV-/signup.html">Create your account</a></div>
    </div>
  </div>

  <!-- REMOTE -->
  <div class="remote" id="remote" style="display:none;">
    <div class="hdr">
      <button class="pill" id="btnSignOut">Sign out</button>

      <!-- Centered, looks like: GW-001 / Genesis Winnipeg -->
      <div class="selectors">
        <select id="displayPicker" class="select" style="display:none">
          <option value="">Display‚Ä¶</option>
        </select>
        <span class="slash" id="centerSlash" style="display:none">/</span>
        <select id="dealerPicker" class="select" style="display:none">
          <option value="">Dealership‚Ä¶</option>
        </select>
      </div>

      <div class="theme-holder">
        <div id="hdrSwitch" class="theme-switch">
          <span class="sun">‚òÄÔ∏è</span>
          <span class="moon">üåô</span>
          <i class="thumb"></i>
        </div>
      </div>
    </div>

    <div class="rule"></div>

    <!-- Dial -->
    <div class="dial" id="dial" aria-label="Ring navigation">
      <div class="dial-ring"></div>

      <!-- Borderless clickable arrows -->
      <button class="nav-btn nav-up"    id="btnUp">‚ñ≤</button>
      <button class="nav-btn nav-down"  id="btnDown">‚ñº</button>
      <button class="nav-btn nav-left"  id="btnLeft">‚óÄÔ∏é</button>
      <button class="nav-btn nav-right" id="btnRight">‚ñ∂Ô∏é</button>

      <div class="dial-center" id="dialCenter">
        <div id="dialContent">
          <div class="dial-num"  id="dialNumber">1</div>
          <div class="dial-name" id="dialName">News</div>
        </div>
        <!-- Center commit -->
        <button class="dial-select" id="dialSelect" aria-label="Select"></button>
      </div>
    </div>

    <!-- Grid -->
    <div class="quick-grid">
      <button class="quick-btn" id="qch-1"><strong>1</strong><span>News</span></button>
      <button class="quick-btn" id="qch-2"><strong>2</strong><span>Sports</span></button>
      <button class="quick-btn" id="qch-3"><strong>3</strong><span>Cooking</span></button>
      <button class="quick-btn" id="qch-4"><strong>4</strong><span>Nature</span></button>
      <button class="quick-btn" id="qch-5"><strong>5</strong><span>Kids</span></button>
      <button class="quick-btn mute" id="q-mute"><strong>üîá</strong><span id="muteLabel">Mute</span></button>
    </div>

    <!-- Volume -->
    <div class="volume-bar">
      <button class="vol-btn" id="volMinus">‚àí</button>
      <div class="vol-track"><div class="vol-fill" id="volFill"></div></div>
      <button class="vol-btn" id="volPlus">+</button>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <!-- APP -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
    import {
      getAuth, setPersistence, browserLocalPersistence, signOut,
      onAuthStateChanged, signInWithEmailAndPassword
    } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
    import {
      getDatabase, ref, get, set, update, on
